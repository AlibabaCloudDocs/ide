# 元数据采集 {#concept_mrm_2wg_mfb .concept}

本文将为您介绍如何进行元数据采集。

## 添加数据源 {#section_f5s_4bh_mfb .section}

**说明：** 

-   元数据采集添加的数据源仅支持**无公网IP**类型。
-   由于网络的问题，无公网IP的数据源需要运行在自定义资源组上拉取表信息和列信息，详情请参见[新增调度资源](cn.zh-CN/使用指南/数据集成/常见配置/新增调度资源.md#)。

1.  以项目管理员身份登录[DataWorks管理控制台](https://workbench.data.aliyun.com/console)，单击对应项目操作栏中的**进入工作区**。
2.  单击顶部导航栏中的**数据集成**，选择**同步资源管理** \> **数据源**页面。
3.  单击**新增数据源**，选择选择数据源类型为**MySQL**。
4.  在新建MySQL数据源对话框中选择数据源类型为**无公网IP**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/23802/153967681413784_zh-CN.png)

    |配置|说明|
    |:-|:-|
    |**数据源类型**|无公网IP。|
    |**数据源名称**|由英文字母、数字、下划线组成且需以字符或下划线开头，长度不超过60个字符。|
    |**数据源描述**|对数据源进行简单描述，不得超过80个字符。|
    |**资源组**|可以用于执行同步任务，一般添加资源组时可以绑定多台机器。详情请参见[新增调度资源](cn.zh-CN/使用指南/数据集成/常见配置/新增调度资源.md#)。|
    |**JDBC URL**|JDBC连接信息，格式为`jdbc:mysql://ServerIP:Port/Database`。|
    |**用户名**|数据库对应的用户名。|
    |**密码**|数据库对应的密码。|

5.  单击**完成**。

## 创建采集任务 {#section_abj_pbh_mfb .section}

1.  单击对应数据源后的**新建采集任务**。
2.  在新建采集任务对话框中填写相关配置。

    **说明：** 如果资源组是可用状态，将默认展现数据源添加的资源组的名称。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/23802/153967681413785_zh-CN.png)

    |配置|说明|
    |:-|:-|
    |**待采集的数据源**|已经添加采集点的数据源不能再次添加，并会有相关的提示。下拉框的选项是您添加的无公网IP数据源。|
    |**资源组**|自动展现添加数据源时选中的资源组，详情请参见[新增调度资源](cn.zh-CN/使用指南/数据集成/常见配置/新增调度资源.md#)。|
    |**待采集的表**|包括**所有表**和**指定表**，默认选择**所有表**。选中指定表后下方会弹出指定编辑框，支持输入多个表名，以逗号的形式隔开。

|
    |**采集时间**|可以选择每天的某个整点开始采集，范围是00点到23点。|

3.  单击**确定**。

成功创建的采集任务将在采集任务列表中展现，此列表主要针对数据库的table和column，您可以根据数据源名称和责任人来搜索相关的采集列表。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/23802/153967681413787_zh-CN.png)

|配置|说明|
|:-|:-|
|**数据源名称**|和添加的数据源的名称保持一致。|
|**节点ID**|每个任务节点ID都不一样。|
|**被采集的表**|一般节点名称包含两个，均以数据源名称\_table和数据源名称\_column的方式自动生成。|
|**责任人**|默认创建采集任务的用户是责任人。|
|**状态**|一般有采集失败、采集成功、等待调度和采集中4种状态。|
|**采集时间**|每天定时触发元数据信息采集的时间点。|
|**开始时间**|一般默认格式`yyyy-mm-dd hh:mm:ss`。|
|**结束时间**|一般默认格式`yyyy-mm-dd hh:mm:ss`。|
|**操作**|操作包括两个模块。-   数据源操作
    -   **修改定时**：修改当前数据源采集任务的定时时间。
    -   **删除**：删除当前数据源采集任务。
-   节点操作
    -   **立即采集**：单击后立即触发采集任务执行，更新对应数据源的表名和字段名。
    -   **定时运维**：单击后跳转至**运维中心** \> **周期实例**页面，并根据过滤条件显示对应的周期实例。
    -   **最新日志**：查看相应的运行日志。

|

## 配置同步任务 {#section_gmt_2jh_mfb .section}

元数据采集成功后，您即可通过向导模式配置相关的任务，如下图所示，无公网的数据源caiji01已经将相关的表信息和列信息拉取出来。详情请参见[创建同步任务](../../../../cn.zh-CN/快速开始/步骤三：创建同步任务.md#)。

**说明：** 

-   向导模式配置数据同步的任务，但任务还是运行在自定义资源组，默认资源组会存在网络不通的情况。
-   此时相关的表信息和列信息已经存储到元数据服务中，所以不会因为网络不通拉取不到表信息和列信息。

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/23802/153967681413788_zh-CN.png)

同步任务配置完成后，单击**运行**，任务便会立即运行。您也可单击**提交**，将同步任务提交到调度系统中，调度系统会按照配置属性在从第二天开始自动定时执行。

