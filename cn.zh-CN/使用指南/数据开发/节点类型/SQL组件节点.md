# SQL组件节点 {#concept_s2b_53p_p2b .concept}

SQL组件是一种带有多个输入参数和输出参数的SQL代码过程模板，SQL代码的处理过程一般是引入一到多个源数据表，通过过滤、连接和聚合等操作，加工出新的业务需要的目标表。

## 操作步骤 {#section_qhm_djp_p2b .section}

1.  右键单击**数据开发**下的**业务流程**，选择**新建业务流程**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16292/15507169027651_zh-CN.png)

2.  右键单击**数据开发**，选择**新建数据开发节点** \> **SQL组件节点**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16297/15507169027778_zh-CN.png)

3.  为提高开发效率，数据任务的开发者可以使用项目成员和租户成员贡献的组件来新建数据处理节点。

    -   本项目成员创建的组件在项目组件下。
    -   租户成员创建的组件在公共组件下。
    新建节点时，选择节点类型为**SQL组件节点**类型，并为该节点指定名字。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16297/15507169027777_zh-CN.png)

    为选定的组件指定参数。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16297/15507169027779_zh-CN.png)

    输入参数名称后，选择参数类型为Table或String。

    get\_top\_n有三个参数，依次指定。

    为table类型参数指定一个输入表test\_project.test\_table。

4.  节点调度配置。

    单击节点任务编辑在区域右侧的**调度配置**，即可进入节点调度配置页面，详情请参见[调度配置](cn.zh-CN/使用指南/数据开发/调度配置/基本属性.md#)模块。

5.  提交节点任务。

    完成调度配置后，单击左上角的**保存**，提交（提交并解锁）到开发环境。

6.  发布节点任务。

    具体操作请参见[发布管理](cn.zh-CN/使用指南/数据开发/发布管理/任务发布.md#)。

7.  在生产环境测试。

    具体操作请参见[周期任务](cn.zh-CN/使用指南/运维中心/任务列表/周期任务.md#)。


## 升级SQL组件节点的版本 {#section_tmq_qdq_p2b .section}

在组件的开发者发布新版本后，组件的使用者可以选择是否将现有组件的使用实例升级到使用组件的最新版本。

组件的版本机制支持开发者对组件不断升级，组件的使用者可以不断享受到组件升级后带来的流程执行效率的提升或业务效果优化的种种好处，示例如下。

当A用户使用了B的组件V1.0 版本，这时组件所有人B将组件升级到V2.0，A用户依然可以使用V1.0版本，但是可以看到更新提醒，和新旧代码对比后，A用户发现新的版本业务效果更加优化，就可以自己决定是否升级到最新的组件版本。

升级根据组件模板开发的SQL组件节点的过程也很简单，只要选择升级，然后确认新版本SQL组件节点的参数配置是否继续有效，并根据组件新版本的说明进行些许调整后，就可以像普通SQL节点开发一样，保存提交并进入发布流程。

## 界面功能 {#section_h3p_32q_p2b .section}

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16297/15507169027780_zh-CN.png)

界面功能说明如下：

|序号|功能|说明|
|:-|:-|:-|
|1|保存|保存当前组件的设置。|
|2|偷锁编辑|非组件责任人可以偷锁编辑此节点。|
|3|提交|将当前组件提交到开发环境。|
|4|公开组件|将具有全局通用性的组件发布到整个租户内，所有租户内的用户都能看到该公共组件并可使用。|
|5|输入输出参数解析|解析当前代码的输入输出参数。|
|6|预编译|对当前组件的自定义参数、组件参数进行编辑。|
|7|运行|在本地（开发环境）运行组件。|
|8|停止运行|停止运行的组件。|
|9|格式化|对当前组件代码根据关键字格式排列。|
|10|参数配置|组件信息、输入参数、输出参数配置。**说明：** 此处填写的参数通常为表名称，而非调度参数。

|
|11|版本|组件提交发布记录。|
|12|引用记录|组件被使用的记录汇总。|

