# Configure DB2 Writer {#concept_prk_khl_q2b .concept}

This topic describes the data types and parameters supported by DB2 Writer and how to configure Writer in script mode.

The DB2 Writer plug-in can write data into the target tables of DB2 databases.  At the underlying implementation level, DB2 Writer connects to a remote DB2 database through JDBC, and runs the `insert into ...` SQL statement to write data into DB2. The data is submitted and written into the database in batches in DB2.

DB2 Writer is designed for ETL developers to import data from data warehouses to DB2. The DB2 Writer can also be used as a data migration tool by DBA and other users.

DB2 Writer acquires the protocol data generated by Reader by means of the Data Integration framework. When the `insert into...` SQL statement is run, if the primary key conflicts with the unique index, data cannot be written into the conflicting lines. To improve performance, we use `PreparedStatement + Batch` and configure `rewriteBatchedStatements=true` to buffer data to the thread context buffer. A write request is submitted only when the amount of data in the buffer reaches the threshold.

**Note:** The task should at least have the insert into... permission. Whether other permissions are required depends on the statements specified in PreSQL and PostSQL when you configure the task.

DB2 Writer supports most data types in DB2. Check whether your data type is supported.

DB2 Writer converts DB2 data types as follows:

|Category|DB2 data types|
|:-------|:-------------|
|Integer|SMALLINT|
|Float|Decimal, real, and double|
|String|char, character, varchar, graphic, vargraphic, long varchar, clob, long vargraphic, or dbclob|
|Date and time type|decimal, real, and double|
|Boolean|—|
|Binary|blob|

## Parameter description​ {#section_jn2_gqh_p2b .section}

|Attribute|Description|Required|Default Value|
|:--------|:----------|:-------|:------------|
|jdbcUrl|Information of the JDBC connection to the DB2 database. According to the DB2 official specification, jdbcUrl in the DB2 format is jdbc:db2://ip:port/database, and the URL attachment control information can be entered.| Yes|N/A|
|username|The user name of the data source.| Yes|N/A|
|password|Password corresponding to the specified user name for the data source. | Yes|N/A|
|table|The table selected for synchronization.| Yes|N/A|
|column|The fields of the target table into which data is required to be written. These fields are separated by commas \(,\). For example: "column": \["id", "name", "age"\]. Use if it is required to write data into all columns in sequence. For example: "column": \["\*"\].| Yes|None|
|preSql|The SQL statement that is run before the data synchronization task is run. Currently, you can run only one SQL statement, for example, clear old data.| No|N/A|
| postSql|The SQL statement that is run after the data synchronization task is run. Currently, you can run only one SQL statement in wizard mode, and more than one SQL statement in script mode. For example, add a timestamp. | No|N/A|
|batchSize|The quantity of records submitted in batches at a time. This parameter can greatly reduce the interactions between Data Integration and DB2 over the network, and increase the overall throughout. However, the running process of Data Integration may become out of memory \(OOM\) if the value is too large.| No|1,024|

## Development in wizard mode {#section_bp2_wsh_p2b .section}

Development in wizard mode is not supported currently.

## Development in script mode {#section_cp2_wsh_p2b .section}

Configure the data synchronization job to write data to DB2:

```
{
    "type":"job",
    "version":2.0 ", // version number
    "steps":[
        {//The following is a reader template. You can find the corresponding reader plug-in documentations.
            "stepType":"stream",
            "parameter":{}
            "name":"Reader",
            "category":"reader"
        },
        {
            "stepType":"db2",// plug-in name
            "parameter":{
                "postSql":[], // SQL statement that was first executed before the data synchronization task was executed
                "password":", // Password
                "jdbcUrl":"jdbc:db2://ip:port/database",//JDBC connection information for DB2 database
                "column":[
                    "id",
                ],
                "batchSize":1024,// number of records submitted in one batch size
                "table":",//table name
                "username":"",//User Name
                "preSql": []// SQL statement executed after the data synchronization task is executed
            },
            "name":"Writer",
            "category":"writer"
        }
    ],
    "setting":{
        "errorLimit":{
            "record":"0"//Number of error records
        },
        "speed":{
            "throttle":false,//False indicates that the traffic is not throttled and the following throttling speed is invalid. True indicates that the traffic is throttled.
            "concurrent":"1",//Number of concurrent tasks
            "dmu":1 //DMU Value
        }
    },
    "order":{
        "hops":[
            {
                "from":"Reader",
                "to":"Writer"
            }
        ]
    }
}
```

