# Configure MongoDB Writer {#concept_gmn_qwm_q2b .concept}

This topic describes the data types and parameters supported by MongoDB Writer and how to configure Writer in script mode.

The MongoDB Writer plug-in uses MongoClient, the Java client of MongoDB, to write data into MongoDB. The latest version of Mongo has reduced the granularity of DB locks from the DB level to the document level, with powerful indexing capabilities of MongoDB, data sources are basically able to meet the requirements of writing data to MongoDB. The requirements for data updates can also be implemented by configuring the business primary key.

**Note:** 

-   Before you start configuring the MongoDB writer plug-in, configure the data source first. For more information, see[Configure MongoDB data source](reseller.en-US/User Guide/Data integration/Data source configuration/Configure MongoDB data source.md#).
-   If you are using ApsaraDB for MongoDB, a root account is provided by default.
-   To ensure security, Data Integration only supports using the relevant account of MongoDB for connection. Avoid using the root account as an access account when adding and using the MongoDB data source.

MongoDB Writer acquires the protocol data generated by Reader by means of the Data Integration framework, and converts data types supported by Data Integration to the ones supported by MongoDB individually. The data integration itself does not support array types, but MongoDB supports array types and the index of the array type is strong.

To use the MongoDB array type, you must convert the string to the array in MongoDB by using special parameters configurations before writing data into MongoDB.

## Type conversion list {#section_m2v_hxm_q2b .section}

MongoDB Writer supports most data types in MongoDB. Check whether your data type is supported before using it.

MongoDB Writer converts the MongoDB data types as follows:

|Type classification|MongoDB data|
|:------------------|:-----------|
|Integer|INT and Long|
|Float|Double|
|String type|String and array|
|Date and time|Date|
|boolean|bool|
|Binary|Bytes|

## Parameter description​ {#section_jn2_gqh_p2b .section}

|Attribute|Description|Required|Default value|
|:--------|:----------|:-------|:------------|
|datasource|The data source name. It must be identical to the data source name added. Adding data source is supported in script mode.|Yes|None|
|Collectionname|The collection name of MongoDB.|Yes|None|
|column|An array of multiple column names of a document in MongoDB.-   name: The column name.
-   type: The column type.
-   splitter: A special delimiter. It is used only when the string processed is split into character arrays by delimiters. Strings are split using the delimiter specified by this parameter and stored into MongoDB arrays.

|Yes|None|
|Writemode|It specifies whether to overwrite data during transmission.-   isReplace: If this parameter is set to True, the data of the same replaceKey is overwritten. If it is set to False, the data is not overwritten.
-   replaceKey: It specifies the business primary key for each record entry and is used to overwrite data \(ReplaceKey must be unique and is generally the primary key in Mongo\).

|No|None|
|preSql|You can use "preSql":\{"type":"remove"\} to remove the collection.|No|None|

## Development in wizard mode {#section_bp2_wsh_p2b .section}

Currently, development in wizard mode is unavailable.

## Development in script mode {#section_cp2_wsh_p2b .section}

To configure data synchronization jobs written to MongoDB, please refer to the above parameter descriptions for details.

```language-json
{
    "type": "job",
    "version": "2.0本号
    "steps"件文档
        {
            "stepType": "stream",
            "parameter": {},
            "name": "Reader",
            "category": "reader"
        },
        {
            "stepType":godb",//插件名
            "parameter": {
                "date": "",//数据源名
                "column": [
                    {
                       me": "name",//列名
                       ": "string"//数据类型
                    },
                    {
                        "name": "age",
                        "type": "int"
                    },
                    {
                        "name": "id",
                        "type": "long"
                    },
                    {
                        "name": "wealth",
                        "type": "double"
                    },
                    {
                        "name": "hobby",
                        "type": "array",
                        "splitter": " "
                    },
                    {
                        "name": "valid",
                        "type": "boolean"
                    },
                    {
                        "name": "date_of_join",
                        "format": "yyyy-MM-dd HH:mm:ss",
                        "type": "date"
                    }
          ],
                "writeMode": {//写入模式
                    "isReplace": "true",
                    "replaceKey": "id"
                              "collectionName": "datax_test"//连接名称
            },
            "name": "Writer",
            "category": "writer"
   
    ],
    "setting": {
        "errorLimit": {//错误记录数
            "record": "0"
        },
        "speed": {
            "jvm            "throttle": true,代表不限流，下面的限流的速度不生效，true代表         "concurrent": 1,//作业并发数
            "mbp       }
    },
    "order": {
        "hops": [//从reader同步writer
            {
                "from": "Reader",
                "to": "Writer"
            }
        ]
    }
}
```

