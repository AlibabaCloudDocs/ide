# Configure MySQL Writer {#concept_ynf_pzm_q2b .concept}

This topic describes the data types and parameters supported by MySQL Writer and how to configure Writer in both wizard and script mode.

The MySQL Writer plug-in can write data into a target table of a MySQL database. At the underlying implementation level, MySQL Reader connects to a remote MySQL database through JDBC, and runs the `insert into...` or `replace into...` SQL statement to write data into MySQL. Data is written into the database in batches within MySQL, and the database must use InnoDB engine. 

**Note:** You must configure the data source before configuring the MySQL Writer plug-in. For more information, see [Configure MySQL data source](reseller.en-US/User Guide/Data integration/Data source configuration/Configure MySQL data source.md#).

MySQL Writer is designed for ETL developers to import data from data warehouses to MySQL. MySQL Writer can also be used as a data migration tool by DBA and other users. MySQL Writer acquires the protocol data generated by Reader based on writeMode by means of the Data Synchronization framework.

**Note:** The entire task requires at least the `insert/replace into...` permission. Whether other permissions are required depends on the statements specified in PreSQL and PostSQL when you configure the task.

## Type conversion list {#section_f5g_g1n_q2b .section}

Similar to MySQL Reader, MySQL Writer currently supports most data types in MySQL. Check whether your data type is supported.

MySQL Writer converts the MySQL data types as follows:

|Category|MySQL data type|
|:-------|:--------------|
|Integer|int, tinyint, smallint, mediumint, int, bigint, and year|
|Floating point|float, double, and decimal|
|String|varchar, char, tinytext, text, mediumtext, and longtext|
|Date and time|date, datetime, timestamp, and time|
|Boolean|bool|
|Binary|tinyblob, mediumblob, blob, longblob, and varbinary|

## Parameter description​ {#section_jn2_gqh_p2b .section}

|Attribute|Description|Required|Default Value|
|:--------|:----------|:-------|:------------|
|datasource|The data source name. The name entered here must be the same as the added data source. You can add a data source in script mode.|Yes|N/A|
|table|The table selected for synchronization.|Yes|None|
|writeMode|Selects an import mode. The insert/replace mode is supported.-   replace into... \(If the primary key does not conflict with the unique index, the system performs the same action as insert into. When a conflict exists, all fields in the original line are replaced with the fields in the new line.\)
-   insert into...\(If the primary key conflicts with the unique index, data cannot be written into the conflicting lines and is regarded as dirty data.\)
-   INSERT INTO table \(a,b,c\) VALUES \(1,2,3\) ON DUPLICATE KEY UPDATE…;\(If the primary key does not conflict with the unique index, the system performs the same action as insert into. When a conflict exists, the specified field in the original line is replaced with the field in the new line.\)

|No|insert|
|column|The fields of the target table into which data is required to be written. These fields are separated by commas \(,\).  For example: `"column": ["id", "name", "age"]`. Use \* if it is required to write data into all columns in sequence. For example, `"column": ["*"]`.|Yes|None|
|preSql|The SQL statement that is run before the data synchronization task is run. Currently, you can run only one SQL statement in wizard mode, and more than one SQL statement in script mode. For example, clear old data.|No|None|
|postSql|The SQL statement that is run after the data synchronization task is run. Currently, you can run only one SQL statement in wizard mode, and more than one SQL statement in script mode. For example, add a timestamp.|No|None|
|batchSize|The quantity of records submitted in one operation. Setting this parameter can greatly reduce interactions between Data Synchronization and MySQL, and increase the overall throughput. However, an excessively large value may cause the running process of Data Synchronization to become Out of Memory \(OOM\).| No|1,024|

## Development in wizard mode {#section_bp2_wsh_p2b .section}

1.  Choose source

    Configuration item descriptions:

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16250/15501090108183_en-US.png)

    Parameters:

    -   Data source: The datasource in the preceding parameter description. Enter the data source name you configured.
    -   Table: The table in the preceding parameter description. Select the table to be synchronized.
    -   Prepared statement before import: preSQL in the preceding parameter description, namely, the SQL statement that is run before the data synchronization task is run.
    -   Post-import completion statement: postSQL in the preceding parameter description, which is the SQL statement that is run after the data synchronization task is run.
    -   Primary key conflict: writeMode in the preceding parameter description. You can select the expected import mode.
2.  Field mapping: The column in the preceding parameter description.

    The Source Table Field on the left maps with the Target Table Field on the right. Click **Add Line**, and then a field is added. Hover the cursor over a line, click **Delete**, and then the line is deleted.

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16250/15501090108193_en-US.png)

    -   In-row mapping: You can click **Enable Same-Line Mapping** to create a mapping for the same row. Note that the data type must be consistent.
    -   Automatic formatting: The fields are automatically sorted based on corresponding rules.
3.  Channel control

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/16221/15501090107675_en-US.png)

    Parameters:

    -   DMU: A unit which measures the resources consumed during data integration, including CPU, memory, and network bandwidth . One DMU represents the minimum amount of resources used for a data synchronization task.
    -   Concurrent job count: Maximum number of threads used to concurrently read or write data into the data storage media in a data synchronization task. In wizard mode, configure a concurrency for the specified task on the wizard page.
    -   The maximum number of errors indicates the maximum number of dirty data records.
    -   Task resource group: The machine on which the task runs, if the number of tasks is large. The default Resource Group is used to wait for a resource, it is recommended that you add a Custom Resource Group \(currently only East China 1 and East China 2 supports adding custom resource groups\). For more information, see[Add task resources](reseller.en-US/User Guide/Data integration/Common Configuration/Add task resources.md#).

## Development in script mode {#section_cp2_wsh_p2b .section}

The following is a script configuration sample. For relevant parameters, see Parameter Description.

```
{
    "type":"job",
    "version": 2.0 ", //version number
    "steps": [//below is the template for reader, you can find the appropriate read plug-in documentation.
        {
            "stepType":"stream",
            "parameter":{},
            "name":"Reader",
            "category":"reader"
        },
        {
            "stepType": "mysql", // plug-in name
            "parameter":{
                "postSql": [],//Post-import preparation statement
                "datasource": "", // Data Source
                "column": [// column name
                    "id",
                    "value"
                ],
                "writeMode": "insert",//Write mode
                "batchSize": "1024", // number of records submitted in one batch size
                "table": ", // table name
                "preSql": [],//Pre-import preparation statement
            },
            "name":"Reader",
            "category":"writer"
        }
    ],
    "setting":{
        "errorLimit": {// Number of error records
            "record": "0"
        },
        "speed": {
            "throttle":false, // do you want to limit the flow?
            "concurrent": "1", // Number of concurrency
            "dmu": 1 // DMU Value
        }
    },
    "order":{
        "hops":[
            {
                "name":"Reader",
                "to": "Writer"
            }
        ]
    }
}
```

